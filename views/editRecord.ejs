<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title%></title>
</head>

<body>
  <h1><%= title%></h1>

  <%- include("partials/errors.ejs") %>
  <form action="/record/edit" method="POST">

    <!-- DEFAULT VALUE BEFORE EDIT -->
    <input type="hidden" name="defId" value="<%=defId%>">
    <input type="hidden" name="defName" value="<%=defName%>">
    <input type="hidden" name="defArtist" value="<%=defArtist%>">
    <input type="hidden" name="defYear" value="<%=defYear%>">
    <input type="hidden" name="defImgurl" value="<%=defImgurl%>">
    <% locals.defGenres.forEach((defg) => { %>
    <input type="hidden" name="defGenres" value="<%=defg%>">
    <%}) %>
    <!-- DEFAULT VALUE BEFORE EDIT -->

    <label for="record_name">Title</label>
    <input type="text" id="record_name" name="record_name" value="<%=defName%>">
    <label for="artist">Artist</label>
    <input type="text" id="artist" name="artist" value="<%=defArtist%>">
    <label for="year">Year of Release</label>
    <input type="number" id="year" name="year" min="1000" max="9999" value="<%=defYear%>">
    <label for="imgurl">Cover Art Url</label>
    <input type="text" id="imgurl" name="imgurl" value="<%=defImgurl%>">
    <div class="genreCheckboxes">
      <% locals.genres.forEach((genre) => { %>
      <% if (locals.defGenres.includes(genre.id)) { %>
      <label for="<%= genre.genre_name%>"> <input type="checkbox" id="<%= genre.genre_name%>" name="genres" value="<%= genre.id%>" checked="true"><%= genre.genre_name%></label>
      <% } else { %>
      <label for="<%= genre.genre_name%>"> <input type="checkbox" id="<%= genre.genre_name%>" name="genres" value="<%= genre.id%>"><%= genre.genre_name%></label>
      <% }}) %>
    </div>
    <button>SAVE</button>
  </form>
  <a href="/">Return to Home</a>
</body>

</html>